<a href='javascript:var e,t,n=document.links,i=[],a=0;for(t in n){var o=n[t].toString().toUpperCase();-1==o.indexOf(".MP3")&&-1==o.indexOf(".OGG")&&-1==o.indexOf(".WAV")||i.push(n[t])}var d=f("div","player","","",""),r=f("div","playing","","",""),p=f("div","progressbar","","",function(t){var n=t.clientX;n/=window.innerWidth,e.currentTime=e.duration*n}),l=f("div","progress","","","");p.appendChild(l),r.appendChild(p);var s=f("div","songname","","","");r.appendChild(s);var u=f("div","buttons","","","");u.appendChild(f("button","","|<","",function(){a--,v()})),u.appendChild(f("button","",">","",function(){e.paused?e.play():e.pause()})),u.appendChild(f("button","",">|","",function(){a++,v()})),u.appendChild(f("button","","><","",function(){a=Math.floor(Math.random()*i.length),v()})),u.appendChild(f("button","","V","",function(){d.classList.toggle("pl")})),r.appendChild(u),d.appendChild(r);var c=f("ul","playlist","","","");for(songIndex in i){var h=decodeURIComponent(unescape(i[songIndex].href));c.appendChild(f("li","",h.substring(h.lastIndexOf("/")+1),songIndex,function(){a=parseInt(this.getAttribute("data")),v()}))}d.appendChild(c);var g=f("style","","","","");g.innerHTML=".player{position:absolute;top:0;bottom:0;left:0;right:0;background:#87ceeb;font-size:x-large}.playing,.playlist,.progressbar{position:relative}.playing{height:100%;width:100%}.pl .playing{height:20%}.playlist{height:0%;width:100%;box-sizing:border-box;max-width:800px;margin:auto;overflow:scroll}.pl .playlist{height:80%}.progressbar{height:100%;width:100%;text-align:center}.progress{height:100%;background:orange;text-align:center}.buttons,.songname{position:absolute;width:100%;text-align:center}.songname{top:33%}.buttons{top:66%}.player button{background:0 0;border:none;font-size:x-large}",d.appendChild(g);var b=document.createElement("meta"),m=document.createAttribute("name");function v(){e.src=i[a],e.play();var t=decodeURIComponent(i[a].href);s.innerHTML=t.substring(t.lastIndexOf("/")+1)}function f(e,t,n,i,a){var o=document.createElement(e);""!=t&&o.classList.add(t);var d=document.createAttribute("data");return d.value=i,o.setAttributeNode(d),o.appendChild(document.createTextNode(n)),o.onclick=a,o}function C(){l.style.width=e.currentTime/e.duration*100+"%",requestAnimationFrame(C)}m.value="viewport",b.setAttributeNode(m),(m=document.createAttribute("content")).value="width=device-width, initial-scale=1",b.setAttributeNode(m),document.head.appendChild(b),document.body.innerHTML="",document.body.appendChild(d),(e=new Audio).addEventListener("ended",function(){a++,v()},!1),v(),requestAnimationFrame(C);'>Bookmarklet</a>
